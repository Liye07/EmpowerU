@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <p class="text-left">Book Your Next Appointment</p>
</div>

<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="container mt-4">
                <div class="row justify-content-center">
                    <div class="col-md-8">
                        <div class="input-group mb-3">
                            <input type="text" id="searchInput" class="form-control" placeholder="Search for businesses..." aria-label="Search">
                            <div class="input-group-append">
                                <span class="input-group-text">
                                    <i class="fas fa-search"></i>
                                </span>
                            </div>
                        </div>
                        <div id="searchResultsContainer">
                            <!-- Search results will be injected here -->
                        </div>
                    </div>
                </div>
            </div>
            <div class="mb-3">
                <a href="#" class="btn btn-outline-primary mx-1">Massage</a>
                <a href="#" class="btn btn-outline-primary mx-1">Hair</a>
                <a href="#" class="btn btn-outline-primary mx-1">Barber</a>
                <a href="#" class="btn btn-outline-primary mx-1">Nails</a>
            </div>

            <!-- Large Text for Services -->
            <h2 class="text-left">Services</h2>

            <!-- Advertisement Section -->
            <div class="row mt-4">
                @foreach (var business in Model) // Loop through each business
                {
                    <div class="col-md-4 mb-4">
                        <div class="card">
                            <img src="@business.ProfilePicture" class="card-img-top" alt="@business.Description"> <!-- You need an ImageUrl property -->
                            <div class="card-body">
                                <h5 class="card-title">@business.Description</h5> <!-- Adjust based on your model -->
                                <p class="card-text">Category: @business.BusinessCategory</p> <!-- Display BusinessCategory -->
                                <h5>Rating</h5>
                                <p>
                                    @for (var i = 1; i <= 5; i++)
                                    {
                                        if (i <= @business.Rating)
                                        {
                                            <span class="fas fa-star" style="color: #FFD700;"></span> <!-- Filled star -->
                                        }
                                        else
                                        {
                                            <span class="far fa-star" style="color: #D3D3D3;"></span> <!-- Empty star -->
                                        }
                                    }

                              
                            </div>
                            <a href="@Url.Action("Details", "Businesses", new { id = business.Id })" class="btn btn-primary">View Details</a> <!-- Adjust Action and Controller based on your application structure -->
                        </div>
                    </div>
                }
            </div>

            <!-- Footer Section -->
            @section Scripts {
                <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/js/all.min.js"></script>


                <script>
                    $(document).ready(function () {
                        $('#searchInput').on('input', function () {
                            var searchTerm = $(this).val();

                            $.ajax({
                                url: '@Url.Action("Search", "Home")',
                                type: 'POST',
                                data: { searchTerm: searchTerm },
                                success: function (data) {
                                    $('#searchResultsContainer').html(data);
                                },
                                error: function () {
                                    console.log("Error occurred while searching.");
                                }
                            });
                        });
                    });
                </script>



            }

            <style>
                body {
                    background-color: #f8f9fa;
                    font-family: Arial, sans-serif;
                }

                .btn-outline-primary {
                    width: 120px;
                }

                .card {
                    border-radius: 10px;
                    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
                }

                .card-title {
                    font-size: 1.5rem;
                }

                footer {
                    background-color: #f8f9fa;
                }

                .fa-star {
                    font-size: 16px;
                }
            </style>

            <!-- Font Awesome for icons -->
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
